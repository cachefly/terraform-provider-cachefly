---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cachefly_service Resource - terraform-provider-cachefly"
subcategory: ""
description: |-
  A service represents a CDN configuration that defines how content is cached and delivered.
---

# cachefly_service (Resource)

A service represents a CDN configuration that defines how content is cached and delivered.

## Example Usage

```terraform
# ===================================================================
# CacheFly CDN - Service Setup Examples
# ===================================================================

terraform {
  required_version = ">= 1.0"
  required_providers {
    cachefly = {
      source = "cachefly/cachefly"
    }
  }
}

provider "cachefly" {
  # Uses CACHEFLY_API_TOKEN if set; otherwise, set api_token here
  # api_token = ""
}

# -------------------------------------------------------------------
# Data Sources: Delivery Regions (optional helper)
# -------------------------------------------------------------------
data "cachefly_delivery_regions" "available" {}

# -------------------------------------------------------------------
# Example 1: Basic Service
# -------------------------------------------------------------------
resource "cachefly_service" "basic" {
  name        = "example-dev-svc"
  unique_name = "example-dev-svc-basic"
  description = "Basic CDN service example"
  auto_ssl    = true
}

# -------------------------------------------------------------------
# Example 2: Service with Options and Delivery Region
# -------------------------------------------------------------------
resource "cachefly_service" "with_options" {
  name        = "example-dev-svc-opts"
  unique_name = "example-dev-svc-opts"
  description = "Service with advanced options enabled"
  auto_ssl    = true

  # Optionally pin the service to a delivery region (pick first available)
  delivery_region = data.cachefly_delivery_regions.available.regions[0].id

  # Optionally set a TLS profile if you have a specific profile ID
  # tls_profile = "<tls-profile-id>"

  # Example options (see Service Options Reference in docs)
  options = {
    autoRedirect = true

    reverseProxy = {
      enabled           = true
      originScheme      = "HTTP"
      cacheByQueryParam = true
      useRobotsTxt      = true
      ttl               = 123
      hostname          = "example.com"
    }

    protectServeKeyEnabled = true

    purgemode = {
      enabled = true
      value = {
        exact     = true
        directory = true
        extension = true
      }
    }
  }
}

# -------------------------------------------------------------------
# Outputs
# -------------------------------------------------------------------
output "services" {
  value = {
    basic = {
      id          = cachefly_service.basic.id
      name        = cachefly_service.basic.name
      unique_name = cachefly_service.basic.unique_name
      status      = cachefly_service.basic.status
      created     = cachefly_service.basic.created_at
      updated     = cachefly_service.basic.updated_at
    }
    with_options = {
      id                  = cachefly_service.with_options.id
      name                = cachefly_service.with_options.name
      unique_name         = cachefly_service.with_options.unique_name
      status              = cachefly_service.with_options.status
      configuration_mode  = cachefly_service.with_options.configuration_mode
      delivery_region     = cachefly_service.with_options.delivery_region
      created             = cachefly_service.with_options.created_at
      updated             = cachefly_service.with_options.updated_at
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The display name of the service.
- `unique_name` (String) The unique name of the service used in URLs and configurations. Must be unique across all services.

### Optional

- `auto_ssl` (Boolean) Whether to automatically provision SSL certificates.
- `delivery_region` (String) The delivery region for the service.
- `description` (String) A description of the service.
- `options` (Dynamic) Service options as a map. Full option catalog, types, allowed values, and constraints: [Service Options Reference](https://docs.cachefly.com/docs/service-options-reference)
- `status` (String) The current status of the service. Set this to 'ACTIVE' to activate the service or 'DEACTIVATED' to deactivate it.
- `tls_profile` (String) The TLS profile to use for SSL connections.

### Read-Only

- `configuration_mode` (String) The configuration mode for the service.
- `created_at` (String) The timestamp when the service was created.
- `id` (String) The unique identifier of the service.
- `updated_at` (String) The timestamp when the service was last updated.
